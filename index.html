<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Polykobe</title>
    <link rel="stylesheet" href="polykobe.css" type="text/css">
    <script src="gl-matrix-min.js" defer></script>
    <script src="glyphs.js" defer></script>
    <script src="geometry.js" defer></script>
    <script src="polykobe.js" defer></script>
</head>

<body>

<div class="container" style="display: flex; height: 100%;">
<canvas id="canvas" width=1024 height=768 style="width: 60%"></canvas>
<div style="flex-grow: 1; background: gray;">
<div id="controls">Polykobe<div>
<br>

<div id="section1">
    Standard <a href=https://en.wikipedia.org/wiki/Nurikabe_(puzzle)>Nurikabe</a> rules apply (more or less):
    <ul>
    <li>color all squares either black (shaded) or green (unshaded)</li>
    <li>shaded squares must form a single region connected by edges</li>
    <li>you cannot fully shade a 2x2 block</li>
    <li>all unshaded squares must be part of a region that includes a number</li>
    <li>the number indicates the size of the region</li>
    <li>regions are formed by squares that share an edge</li>
    <li>two different unshaded regions cannot share an edge, but they can share a vertex (corner)</li>
    </ul>
    Click on LOAD DEFAULT PUZZLE for a default puzzle.
</div>
<br>

<div id="section1">
    <button onclick="loadFake()">LOAD DEFAULT PUZZLE</button><br><br>
    <button onclick="checkSolution()">CHECK SOLUTION</button>
    </div>
    <br>
    
<div id="section1">
    <label>type of polyhedron:</label><input type="text" readonly width=auto id="polyhedronName"><br><br>
    <label>faces:</label><input type="text" readonly width=auto id="numberOfFaces"><br><br>
    <label>edges:</label><input type="text" readonly width=auto id="numberOfEdges"><br><br>
    <label>vertices:</label><input type="text" readonly width=auto id="numberOfVertices">
</div>
<br>

<div id="section1">
    <label>zoom: </label>
    <input type="range" min=-4 max=0.1 value=-0.58 step=0.01 class="slider"
    oninput="(function() { zoom = parseFloat(value); redraw = true;
        document.getElementById('zoom').value = zoom; })();">
    <input type="text" readonly width=auto id="zoom"><br>
    <br>
    <label>fov:</label>
    <input type="range" min=-2.0 max=-0.01 value=-0.36 step=0.01 class="slider"
    oninput="(function() {
        fov = parseFloat(value);
        document.getElementById('fov').value = fov;
        redraw = true; })();">
    <input type="text" readonly width=auto id="fov"><br>
</div>
<br>

<div id="section1">
    <button onclick="animateRotation('x', rotateBy);">Rotate X (w/s)</button>
    <button onclick="animateRotation('y', rotateBy);">Rotate Y (a/d)</button>
    <button onclick="animateRotation('z', rotateBy);">Rotate Z (q/e)</button>
    <button onclick="resetRotation()">Reset (r)</button>
</div>
<br>

<div id="section1">
    <button onclick="clearFaces()">clear all</button>
    <button onclick="clearMost()">clear most</button>
    <button onclick="unlockFaces()">unlock all</button>
    <button onclick="setSolution()">set solution</button>
</div>
<br>

<div id="section1">
<button onclick="loadFake()">LOAD DEFAULT PUZZLE</button>
<button onclick="document.getElementById('fileInput').click()">Load</button>
<input onchange="loadState(this.files)" type="file" id="fileInput" accept=".json,application/json" style="display:none">
<button onclick="saveState()">Save</button>
</div>
<br>

<div id="section1">
<button onclick="setNumber(1)">1</button>
<button onclick="setNumber(2)">2</button>
<button onclick="setNumber(3)">3</button>
<br><br>
<button onclick="setNumber(4)">4</button>
<button onclick="setNumber(5)">5</button>
<button onclick="setNumber(6)">6</button>
<br><br>
<button onclick="setNumber(7)">7</button>
<button onclick="setNumber(8)">8</button>
<button onclick="setNumber(9)">9</button>
<br><br>
<button onclick="setNumber(undefined)"> CLEAR </button>
<button onclick="lock()"> LOCK (l) </button>
<button onclick="unlock()"> UNLOCK (u) </button>
<br><br>
<button onclick="toggleState()">Toggle Shading (spacebar)</button>
</div>

</div>
</div>
</div>
</div>
</div>
</body>
<br>
<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource" property="dct:title" rel="dct:type">Polykobe</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/marksilverman/polykobe" property="cc:attributionName" rel="cc:attributionURL">Mark Silverman</a>. This code is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. 
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
</html>
